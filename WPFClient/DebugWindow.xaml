<Window x:Class="MyGame.DebugWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	x:Name="debugWindow"
    Title="DebugWindow" WindowStyle="ToolWindow" ShowInTaskbar="False"
	Height="273" Width="450">

	<Window.Resources>
		<Style TargetType="{x:Type ListViewItem}">
			<Style.Triggers>
				<DataTrigger Binding="{Binding Flags}" Value="Server">
					<Setter Property="Background" Value="LightGray" />
				</DataTrigger>
				<DataTrigger Binding="{Binding Flags}" Value="Mark">
					<Setter Property="Background" Value="Blue" />
				</DataTrigger>
			</Style.Triggers>
		</Style>
	</Window.Resources>

	<Grid>
		<ListView Name="logListView" ItemsSource="{Binding Path=DebugEntries, ElementName=debugWindow}" >
			<ListView.View>
				<GridView AllowsColumnReorder="true" >
					<GridViewColumn DisplayMemberBinding="{Binding Time,StringFormat=\{0:HH:mm:ss.ffff\}}"
									Header="Time" Width="140" />
					<GridViewColumn DisplayMemberBinding="{Binding Flags}" Header="Flags" Width="100" />
					<GridViewColumn DisplayMemberBinding="{Binding Message}" Header="Message" Width="800" />
				</GridView>
			</ListView.View>
		</ListView>
	</Grid>
</Window>
